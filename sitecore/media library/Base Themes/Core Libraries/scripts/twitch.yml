---
ID: "0306bd60-e2e3-4464-8059-74eb05d452b1"
Parent: "e3fbf2bd-14b5-439f-b488-478701f1bae1"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: /sitecore/media library/Base Themes/Core Libraries/scripts/twitch
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/0306BD60E2E34464805974EB05D452B1.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  Value: LyohCiAqIE1lZGlhRWxlbWVudC5qcwogKiBodHRwOi8vd3d3Lm1lZGlhZWxlbWVudGpzLmNvbS8KICoKICogV3JhcHBlciB0aGF0IG1pbWljcyBuYXRpdmUgSFRNTDUgTWVkaWFFbGVtZW50IChhdWRpbyBhbmQgdmlkZW8pCiAqIHVzaW5nIGEgdmFyaWV0eSBvZiB0ZWNobm9sb2dpZXMgKHB1cmUgSmF2YVNjcmlwdCwgRmxhc2gsIGlmcmFtZSkKICoKICogQ29weXJpZ2h0IDIwMTAtMjAxNywgSm9obiBEeWVyIChodHRwOi8vai5obi8pCiAqIExpY2Vuc2U6IE1JVAogKgogKi8oZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIFR3aXRjaEFwaSA9IHsKCglwcm9taXNlOiBudWxsLAoKCWxvYWQ6IGZ1bmN0aW9uIGxvYWQoc2V0dGluZ3MpIHsKCQlpZiAodHlwZW9mIFR3aXRjaCAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkJVHdpdGNoQXBpLl9jcmVhdGVQbGF5ZXIoc2V0dGluZ3MpOwoJCX0gZWxzZSBpZiAoIVR3aXRjaEFwaS5wcm9taXNlKSB7CgkJCVR3aXRjaEFwaS5wcm9taXNlID0gVHdpdGNoQXBpLnByb21pc2UgfHwgbWVqcy5VdGlscy5sb2FkU2NyaXB0KCdodHRwczovL3BsYXllci50d2l0Y2gudHYvanMvZW1iZWQvdjEuanMnKTsKCQkJVHdpdGNoQXBpLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7CgkJCQlUd2l0Y2hBcGkuX2NyZWF0ZVBsYXllcihzZXR0aW5ncyk7CgkJCX0pOwoJCX0KCgkJcmV0dXJuIFR3aXRjaEFwaS5wcm9taXNlOwoJfSwKCglfY3JlYXRlUGxheWVyOiBmdW5jdGlvbiBfY3JlYXRlUGxheWVyKHNldHRpbmdzKSB7CgkJdmFyIHBsYXllciA9IG5ldyBUd2l0Y2guUGxheWVyKHNldHRpbmdzLmlkLCBzZXR0aW5ncyk7CgkJd2luZG93WydfX3JlYWR5X18nICsgc2V0dGluZ3MuaWRdKHBsYXllcik7Cgl9LAoKCWdldFR3aXRjaElkOiBmdW5jdGlvbiBnZXRUd2l0Y2hJZCh1cmwpIHsKCQl2YXIgdHdpdGNoSWQgPSAnJzsKCgkJaWYgKHVybC5pbmRleE9mKCc/JykgPiAwKSB7CgkJCXR3aXRjaElkID0gVHdpdGNoQXBpLmdldFR3aXRjaElkRnJvbVBhcmFtKHVybCk7CgkJCWlmICh0d2l0Y2hJZCA9PT0gJycpIHsKCQkJCXR3aXRjaElkID0gVHdpdGNoQXBpLmdldFR3aXRjaElkRnJvbVVybCh1cmwpOwoJCQl9CgkJfSBlbHNlIHsKCQkJdHdpdGNoSWQgPSBUd2l0Y2hBcGkuZ2V0VHdpdGNoSWRGcm9tVXJsKHVybCk7CgkJfQoKCQlyZXR1cm4gdHdpdGNoSWQ7Cgl9LAoKCWdldFR3aXRjaElkRnJvbVBhcmFtOiBmdW5jdGlvbiBnZXRUd2l0Y2hJZEZyb21QYXJhbSh1cmwpIHsKCQlpZiAodXJsID09PSB1bmRlZmluZWQgfHwgdXJsID09PSBudWxsIHx8ICF1cmwudHJpbSgpLmxlbmd0aCkgewoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCXZhciBwYXJ0cyA9IHVybC5zcGxpdCgnPycpLAoJCSAgICBwYXJhbWV0ZXJzID0gcGFydHNbMV0uc3BsaXQoJyYnKTsKCgkJdmFyIHR3aXRjaElkID0gJyc7CgoJCWZvciAodmFyIGkgPSAwLCB0b3RhbCA9IHBhcmFtZXRlcnMubGVuZ3RoOyBpIDwgdG90YWw7IGkrKykgewoJCQl2YXIgcGFyYW1QYXJ0cyA9IHBhcmFtZXRlcnNbaV0uc3BsaXQoJz0nKTsKCQkJaWYgKH5wYXJhbVBhcnRzWzBdLmluZGV4T2YoJ2NoYW5uZWw9JykpIHsKCQkJCXR3aXRjaElkID0gcGFyYW1QYXJ0c1sxXTsKCQkJCWJyZWFrOwoJCQl9IGVsc2UgaWYgKH5wYXJhbVBhcnRzWzBdLmluZGV4T2YoJ3ZpZGVvPScpKSB7CgkJCQl0d2l0Y2hJZCA9ICd2JyArIHBhcmFtUGFydHNbMV07CgkJCQlicmVhazsKCQkJfQoJCX0KCgkJcmV0dXJuIHR3aXRjaElkOwoJfSwKCglnZXRUd2l0Y2hJZEZyb21Vcmw6IGZ1bmN0aW9uIGdldFR3aXRjaElkRnJvbVVybCh1cmwpIHsKCQlpZiAodXJsID09PSB1bmRlZmluZWQgfHwgdXJsID09PSBudWxsIHx8ICF1cmwudHJpbSgpLmxlbmd0aCkgewoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCXZhciBwYXJ0cyA9IHVybC5zcGxpdCgnPycpOwoJCXVybCA9IHBhcnRzWzBdOwoJCXZhciBpZCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTsKCQlyZXR1cm4gKC9eXGQrJC9pLnRlc3QoaWQpICE9PSBudWxsID8gJ3YnICsgaWQgOiBpZAoJCSk7Cgl9LAoKCWdldFR3aXRjaFR5cGU6IGZ1bmN0aW9uIGdldFR3aXRjaFR5cGUoaWQpIHsKCQlyZXR1cm4gKC9edlxkKy9pLnRlc3QoaWQpICE9PSBudWxsID8gJ3ZpZGVvJyA6ICdjaGFubmVsJwoJCSk7Cgl9Cn07Cgp2YXIgVHdpdGNoSWZyYW1lUmVuZGVyZXIgPSB7CgluYW1lOiAndHdpdGNoX2lmcmFtZScsCglvcHRpb25zOiB7CgkJcHJlZml4OiAndHdpdGNoX2lmcmFtZScKCX0sCgoJY2FuUGxheVR5cGU6IGZ1bmN0aW9uIGNhblBsYXlUeXBlKHR5cGUpIHsKCQlyZXR1cm4gflsndmlkZW8vdHdpdGNoJywgJ3ZpZGVvL3gtdHdpdGNoJ10uaW5kZXhPZih0eXBlLnRvTG93ZXJDYXNlKCkpOwoJfSwKCgljcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZShtZWRpYUVsZW1lbnQsIG9wdGlvbnMsIG1lZGlhRmlsZXMpIHsKCQl2YXIgdHdpdGNoID0ge30sCgkJICAgIGFwaVN0YWNrID0gW10sCgkJICAgIHJlYWR5U3RhdGUgPSA0LAoJCSAgICB0d2l0Y2hJZCA9IFR3aXRjaEFwaS5nZXRUd2l0Y2hJZChtZWRpYUZpbGVzWzBdLnNyYyk7CgoJCXZhciB0d2l0Y2hQbGF5ZXIgPSBudWxsLAoJCSAgICBwYXVzZWQgPSB0cnVlLAoJCSAgICBlbmRlZCA9IGZhbHNlLAoJCSAgICBoYXNTdGFydGVkUGxheWluZyA9IGZhbHNlLAoJCSAgICB2b2x1bWUgPSAxLAoJCSAgICBkdXJhdGlvbiA9IEluZmluaXR5LAoJCSAgICB0aW1lID0gMDsKCgkJdHdpdGNoLm9wdGlvbnMgPSBvcHRpb25zOwoJCXR3aXRjaC5pZCA9IG1lZGlhRWxlbWVudC5pZCArICdfJyArIG9wdGlvbnMucHJlZml4OwoJCXR3aXRjaC5tZWRpYUVsZW1lbnQgPSBtZWRpYUVsZW1lbnQ7CgoJCXZhciBwcm9wcyA9IG1lanMuaHRtbDVtZWRpYS5wcm9wZXJ0aWVzLAoJCSAgICBhc3NpZ25HZXR0ZXJzU2V0dGVycyA9IGZ1bmN0aW9uIGFzc2lnbkdldHRlcnNTZXR0ZXJzKHByb3BOYW1lKSB7CgkJCXZhciBjYXBOYW1lID0gJycgKyBwcm9wTmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHByb3BOYW1lLnN1YnN0cmluZygxKTsKCgkJCXR3aXRjaFsnZ2V0JyArIGNhcE5hbWVdID0gZnVuY3Rpb24gKCkgewoJCQkJaWYgKHR3aXRjaFBsYXllciAhPT0gbnVsbCkgewoJCQkJCXZhciB2YWx1ZSA9IG51bGw7CgoJCQkJCXN3aXRjaCAocHJvcE5hbWUpIHsKCQkJCQkJY2FzZSAnY3VycmVudFRpbWUnOgoJCQkJCQkJdGltZSA9IHR3aXRjaFBsYXllci5nZXRDdXJyZW50VGltZSgpOwoJCQkJCQkJcmV0dXJuIHRpbWU7CgkJCQkJCWNhc2UgJ2R1cmF0aW9uJzoKCQkJCQkJCWR1cmF0aW9uID0gdHdpdGNoUGxheWVyLmdldER1cmF0aW9uKCk7CgkJCQkJCQlyZXR1cm4gZHVyYXRpb247CgkJCQkJCWNhc2UgJ3ZvbHVtZSc6CgkJCQkJCQl2b2x1bWUgPSB0d2l0Y2hQbGF5ZXIuZ2V0Vm9sdW1lKCk7CgkJCQkJCQlyZXR1cm4gdm9sdW1lOwoJCQkJCQljYXNlICdwYXVzZWQnOgoJCQkJCQkJcGF1c2VkID0gdHdpdGNoUGxheWVyLmlzUGF1c2VkKCk7CgkJCQkJCQlyZXR1cm4gcGF1c2VkOwoJCQkJCQljYXNlICdlbmRlZCc6CgkJCQkJCQllbmRlZCA9IHR3aXRjaFBsYXllci5nZXRFbmRlZCgpOwoJCQkJCQkJcmV0dXJuIGVuZGVkOwoJCQkJCQljYXNlICdtdXRlZCc6CgkJCQkJCQlyZXR1cm4gdHdpdGNoUGxheWVyLmdldE11dGVkKCk7CgkJCQkJCWNhc2UgJ2J1ZmZlcmVkJzoKCQkJCQkJCXJldHVybiB7CgkJCQkJCQkJc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkgewoJCQkJCQkJCQlyZXR1cm4gMDsKCQkJCQkJCQl9LAoJCQkJCQkJCWVuZDogZnVuY3Rpb24gZW5kKCkgewoJCQkJCQkJCQlyZXR1cm4gMDsKCQkJCQkJCQl9LAoJCQkJCQkJCWxlbmd0aDogMQoJCQkJCQkJfTsKCQkJCQkJY2FzZSAnc3JjJzoKCQkJCQkJCXJldHVybiBUd2l0Y2hBcGkuZ2V0VHdpdGNoVHlwZSh0d2l0Y2hJZCkgPT09ICdjaGFubmVsJyA/IHR3aXRjaFBsYXllci5nZXRDaGFubmVsKCkgOiB0d2l0Y2hQbGF5ZXIuZ2V0VmlkZW8oKTsKCQkJCQkJY2FzZSAncmVhZHlTdGF0ZSc6CgkJCQkJCQlyZXR1cm4gcmVhZHlTdGF0ZTsKCQkJCQl9CgoJCQkJCXJldHVybiB2YWx1ZTsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIG51bGw7CgkJCQl9CgkJCX07CgoJCQl0d2l0Y2hbJ3NldCcgKyBjYXBOYW1lXSA9IGZ1bmN0aW9uICh2YWx1ZSkgewoJCQkJaWYgKHR3aXRjaFBsYXllciAhPT0gbnVsbCkgewoJCQkJCXN3aXRjaCAocHJvcE5hbWUpIHsKCQkJCQkJY2FzZSAnc3JjJzoKCQkJCQkJCXZhciB1cmwgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiB2YWx1ZVswXS5zcmMsCgkJCQkJCQkgICAgdmlkZW9JZCA9IFR3aXRjaEFwaS5nZXRUd2l0Y2hJZCh1cmwpOwoKCQkJCQkJCWlmIChUd2l0Y2hBcGkuZ2V0VHdpdGNoVHlwZSh0d2l0Y2hJZCkgPT09ICdjaGFubmVsJykgewoJCQkJCQkJCXR3aXRjaFBsYXllci5zZXRDaGFubmVsKHZpZGVvSWQpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl0d2l0Y2hQbGF5ZXIuc2V0VmlkZW8odmlkZW9JZCk7CgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAnY3VycmVudFRpbWUnOgoJCQkJCQkJdHdpdGNoUGxheWVyLnNlZWsodmFsdWUpOwoJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgndGltZXVwZGF0ZScsIHR3aXRjaCk7CgkJCQkJCQkJbWVkaWFFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQkJCQkJfSwgNTApOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ211dGVkJzoKCQkJCQkJCXR3aXRjaFBsYXllci5zZXRNdXRlZCh2YWx1ZSk7CgkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCd2b2x1bWVjaGFuZ2UnLCB0d2l0Y2gpOwoJCQkJCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJCQkJCX0sIDUwKTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICd2b2x1bWUnOgoJCQkJCQkJdm9sdW1lID0gdmFsdWU7CgkJCQkJCQl0d2l0Y2hQbGF5ZXIuc2V0Vm9sdW1lKHZhbHVlKTsKCQkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoJ3ZvbHVtZWNoYW5nZScsIHR3aXRjaCk7CgkJCQkJCQkJbWVkaWFFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQkJCQkJfSwgNTApOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ3JlYWR5U3RhdGUnOgoJCQkJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgnY2FucGxheScsIHR3aXRjaCk7CgkJCQkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCQkJCQlicmVhazsKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCQoJCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQlhcGlTdGFjay5wdXNoKHsgdHlwZTogJ3NldCcsIHByb3BOYW1lOiBwcm9wTmFtZSwgdmFsdWU6IHZhbHVlIH0pOwoJCQkJfQoJCQl9OwoJCX07CgoJCWZvciAodmFyIGkgPSAwLCB0b3RhbCA9IHByb3BzLmxlbmd0aDsgaSA8IHRvdGFsOyBpKyspIHsKCQkJYXNzaWduR2V0dGVyc1NldHRlcnMocHJvcHNbaV0pOwoJCX0KCgkJdmFyIG1ldGhvZHMgPSBtZWpzLmh0bWw1bWVkaWEubWV0aG9kcywKCQkgICAgYXNzaWduTWV0aG9kcyA9IGZ1bmN0aW9uIGFzc2lnbk1ldGhvZHMobWV0aG9kTmFtZSkgewoJCQl0d2l0Y2hbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbiAoKSB7CgkJCQlpZiAodHdpdGNoUGxheWVyICE9PSBudWxsKSB7CgkJCQkJc3dpdGNoIChtZXRob2ROYW1lKSB7CgkJCQkJCWNhc2UgJ3BsYXknOgoJCQkJCQkJcGF1c2VkID0gZmFsc2U7CgkJCQkJCQlyZXR1cm4gdHdpdGNoUGxheWVyLnBsYXkoKTsKCQkJCQkJY2FzZSAncGF1c2UnOgoJCQkJCQkJcGF1c2VkID0gdHJ1ZTsKCQkJCQkJCXJldHVybiB0d2l0Y2hQbGF5ZXIucGF1c2UoKTsKCQkJCQkJY2FzZSAnbG9hZCc6CgkJCQkJCQlyZXR1cm4gbnVsbDsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWFwaVN0YWNrLnB1c2goeyB0eXBlOiAnY2FsbCcsIG1ldGhvZE5hbWU6IG1ldGhvZE5hbWUgfSk7CgkJCQl9CgkJCX07CgkJfTsKCgkJZm9yICh2YXIgX2kgPSAwLCBfdG90YWwgPSBtZXRob2RzLmxlbmd0aDsgX2kgPCBfdG90YWw7IF9pKyspIHsKCQkJYXNzaWduTWV0aG9kcyhtZXRob2RzW19pXSk7CgkJfQoKCQlmdW5jdGlvbiBzZW5kRXZlbnRzKGV2ZW50cykgewoJCQlmb3IgKHZhciBfaTIgPSAwLCBfdG90YWwyID0gZXZlbnRzLmxlbmd0aDsgX2kyIDwgX3RvdGFsMjsgX2kyKyspIHsKCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoZXZlbnRzW19pMl0sIHR3aXRjaCk7CgkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCX0KCQl9CgoJCXdpbmRvd1snX19yZWFkeV9fJyArIHR3aXRjaC5pZF0gPSBmdW5jdGlvbiAoX3R3aXRjaFBsYXllcikgewoJCQltZWRpYUVsZW1lbnQudHdpdGNoUGxheWVyID0gdHdpdGNoUGxheWVyID0gX3R3aXRjaFBsYXllcjsKCgkJCWlmIChhcGlTdGFjay5sZW5ndGgpIHsKCQkJCWZvciAodmFyIF9pMyA9IDAsIF90b3RhbDMgPSBhcGlTdGFjay5sZW5ndGg7IF9pMyA8IF90b3RhbDM7IF9pMysrKSB7CgkJCQkJdmFyIHN0YWNrSXRlbSA9IGFwaVN0YWNrW19pM107CgoJCQkJCWlmIChzdGFja0l0ZW0udHlwZSA9PT0gJ3NldCcpIHsKCQkJCQkJdmFyIHByb3BOYW1lID0gc3RhY2tJdGVtLnByb3BOYW1lLAoJCQkJCQkgICAgY2FwTmFtZSA9ICcnICsgcHJvcE5hbWUuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBwcm9wTmFtZS5zdWJzdHJpbmcoMSk7CgoJCQkJCQl0d2l0Y2hbJ3NldCcgKyBjYXBOYW1lXShzdGFja0l0ZW0udmFsdWUpOwoJCQkJCX0gZWxzZSBpZiAoc3RhY2tJdGVtLnR5cGUgPT09ICdjYWxsJykgewoJCQkJCQl0d2l0Y2hbc3RhY2tJdGVtLm1ldGhvZE5hbWVdKCk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQl2YXIgdHdpdGNoSWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHdpdGNoLmlkKS5maXJzdENoaWxkOwoJCQl0d2l0Y2hJZnJhbWUuc3R5bGUud2lkdGggPSAnMTAwJSc7CgkJCXR3aXRjaElmcmFtZS5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CgoJCQl2YXIgZXZlbnRzID0gWydtb3VzZW92ZXInLCAnbW91c2VvdXQnXSwKCQkJICAgIGFzc2lnbkV2ZW50cyA9IGZ1bmN0aW9uIGFzc2lnbkV2ZW50cyhlKSB7CgkJCQl2YXIgZXZlbnQgPSBjcmVhdGVFdmVudChlLnR5cGUsIHR3aXRjaCk7CgkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCX07CgoJCQlmb3IgKHZhciBfaTQgPSAwLCBfdG90YWw0ID0gZXZlbnRzLmxlbmd0aDsgX2k0IDwgX3RvdGFsNDsgX2k0KyspIHsKCQkJCXR3aXRjaElmcmFtZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50c1tfaTRdLCBhc3NpZ25FdmVudHMsIGZhbHNlKTsKCQkJfQoKCQkJdmFyIHRpbWVyID0gdm9pZCAwOwoKCQkJdHdpdGNoUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5JywgZnVuY3Rpb24gKCkgewoJCQkJcGF1c2VkID0gZmFsc2U7CgkJCQllbmRlZCA9IGZhbHNlOwoJCQkJc2VuZEV2ZW50cyhbJ3JlbmRlcmVycmVhZHknLCAnbG9hZGVkbWV0YWRhdGEnLCAnbG9hZGVkZGF0YScsICdjYW5wbGF5J10pOwoJCQl9KTsKCQkJdHdpdGNoUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBmdW5jdGlvbiAoKSB7CgkJCQlpZiAoIWhhc1N0YXJ0ZWRQbGF5aW5nKSB7CgkJCQkJaGFzU3RhcnRlZFBsYXlpbmcgPSB0cnVlOwoJCQkJfQoJCQkJcGF1c2VkID0gZmFsc2U7CgkJCQllbmRlZCA9IGZhbHNlOwoJCQkJc2VuZEV2ZW50cyhbJ3BsYXknLCAncGxheWluZycsICdwcm9ncmVzcyddKTsKCgkJCQl0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKCQkJCQl0d2l0Y2hQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTsKCQkJCQlzZW5kRXZlbnRzKFsndGltZXVwZGF0ZSddKTsKCQkJCX0sIDI1MCk7CgkJCX0pOwoJCQl0d2l0Y2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBmdW5jdGlvbiAoKSB7CgkJCQlwYXVzZWQgPSB0cnVlOwoJCQkJZW5kZWQgPSBmYWxzZTsKCQkJCWlmICghdHdpdGNoUGxheWVyLmdldEVuZGVkKCkpIHsKCQkJCQlzZW5kRXZlbnRzKFsncGF1c2UnXSk7CgkJCQl9CgkJCX0pOwoJCQl0d2l0Y2hQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiAoKSB7CgkJCQlwYXVzZWQgPSB0cnVlOwoJCQkJZW5kZWQgPSB0cnVlOwoJCQkJc2VuZEV2ZW50cyhbJ2VuZGVkJ10pOwoJCQkJY2xlYXJJbnRlcnZhbCh0aW1lcik7CgkJCQloYXNTdGFydGVkUGxheWluZyA9IGZhbHNlOwoJCQkJdGltZXIgPSBudWxsOwoJCQl9KTsKCQl9OwoKCQl2YXIgaGVpZ2h0ID0gbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS5oZWlnaHQsCgkJICAgIHdpZHRoID0gbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS53aWR0aCwKCQkgICAgdHdpdGNoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCgkJICAgIHR5cGUgPSBUd2l0Y2hBcGkuZ2V0VHdpdGNoVHlwZSh0d2l0Y2hJZCksCgkJICAgIHR3aXRjaFNldHRpbmdzID0gewoJCQlpZDogdHdpdGNoLmlkLAoJCQl3aWR0aDogd2lkdGgsCgkJCWhlaWdodDogaGVpZ2h0LAoJCQlwbGF5c2lubGluZTogZmFsc2UsCgkJCWF1dG9wbGF5OiBtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmF1dG9wbGF5LAoJCQltdXRlZDogbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS5tdXRlZAoJCX07CgoJCXR3aXRjaFNldHRpbmdzW3R5cGVdID0gdHdpdGNoSWQ7CgkJdHdpdGNoQ29udGFpbmVyLmlkID0gdHdpdGNoLmlkOwoJCXR3aXRjaENvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJzsKCQl0d2l0Y2hDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnOwoKCQltZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHR3aXRjaENvbnRhaW5lciwgbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZSk7CgkJbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoJCW1lZGlhRWxlbWVudC5vcmlnaW5hbE5vZGUuYXV0b3BsYXkgPSBmYWxzZTsKCgkJdHdpdGNoLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkgewoJCQlpZiAoVHdpdGNoQXBpICE9PSBudWxsICYmICFpc05hTih3aWR0aCkgJiYgIWlzTmFOKGhlaWdodCkpIHsKCQkJCXR3aXRjaENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpOwoJCQkJdHdpdGNoQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTsKCQkJfQoJCX07CgkJdHdpdGNoLmhpZGUgPSBmdW5jdGlvbiAoKSB7CgkJCXR3aXRjaC5wYXVzZSgpOwoJCQl0d2l0Y2hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQl9OwoJCXR3aXRjaC5zaG93ID0gZnVuY3Rpb24gKCkgewoJCQl0d2l0Y2hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnOwoJCX07CgkJdHdpdGNoLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7fTsKCgkJbWVkaWFFbGVtZW50LnByb21pc2VzLnB1c2goVHdpdGNoQXBpLmxvYWQodHdpdGNoU2V0dGluZ3MpKTsKCgkJcmV0dXJuIHR3aXRjaDsKCX0KfTsKCm1lanMuVXRpbHMudHlwZUNoZWNrcy5wdXNoKGZ1bmN0aW9uICh1cmwpIHsKCXJldHVybiAoL1wvXC8od3d3fHBsYXllcikudHdpdGNoLnR2L2kudGVzdCh1cmwpID8gJ3ZpZGVvL3gtdHdpdGNoJyA6IG51bGwKCSk7Cn0pOwoKbWVqcy5SZW5kZXJlcnMuYWRkKFR3aXRjaElmcmFtZVJlbmRlcmVyKTsKCn0se31dfSx7fSxbMV0pOwo=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 10343
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 2200
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20170602T092903Z
    - ID: "2fafe7cb-2691-4800-8848-255efa1d31aa"
      Hint: Keywords
      Value: mediaelementjs library for video component
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\Admin
