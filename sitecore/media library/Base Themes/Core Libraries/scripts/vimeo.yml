---
ID: "50250a93-a236-4bee-adef-646350b526cb"
Parent: "e3fbf2bd-14b5-439f-b488-478701f1bae1"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: /sitecore/media library/Base Themes/Core Libraries/scripts/vimeo
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/50250A93A2364BEEADEF646350B526CB.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  Value: LyohCiAqIE1lZGlhRWxlbWVudC5qcwogKiBodHRwOi8vd3d3Lm1lZGlhZWxlbWVudGpzLmNvbS8KICoKICogV3JhcHBlciB0aGF0IG1pbWljcyBuYXRpdmUgSFRNTDUgTWVkaWFFbGVtZW50IChhdWRpbyBhbmQgdmlkZW8pCiAqIHVzaW5nIGEgdmFyaWV0eSBvZiB0ZWNobm9sb2dpZXMgKHB1cmUgSmF2YVNjcmlwdCwgRmxhc2gsIGlmcmFtZSkKICoKICogQ29weXJpZ2h0IDIwMTAtMjAxNywgSm9obiBEeWVyIChodHRwOi8vai5obi8pCiAqIExpY2Vuc2U6IE1JVAogKgogKi8oZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIFZpbWVvQXBpID0gewoKCXByb21pc2U6IG51bGwsCgoJbG9hZDogZnVuY3Rpb24gbG9hZChzZXR0aW5ncykgewoKCQlpZiAodHlwZW9mIFZpbWVvICE9PSAndW5kZWZpbmVkJykgewoJCQlWaW1lb0FwaS5fY3JlYXRlUGxheWVyKHNldHRpbmdzKTsKCQl9IGVsc2UgewoJCQlWaW1lb0FwaS5wcm9taXNlID0gVmltZW9BcGkucHJvbWlzZSB8fCBtZWpzLlV0aWxzLmxvYWRTY3JpcHQoJ2h0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS9hcGkvcGxheWVyLmpzJyk7CgkJCVZpbWVvQXBpLnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7CgkJCQlWaW1lb0FwaS5fY3JlYXRlUGxheWVyKHNldHRpbmdzKTsKCQkJfSk7CgkJfQoJfSwKCglfY3JlYXRlUGxheWVyOiBmdW5jdGlvbiBfY3JlYXRlUGxheWVyKHNldHRpbmdzKSB7CgkJdmFyIHBsYXllciA9IG5ldyBWaW1lby5QbGF5ZXIoc2V0dGluZ3MuaWZyYW1lKTsKCQl3aW5kb3dbJ19fcmVhZHlfXycgKyBzZXR0aW5ncy5pZF0ocGxheWVyKTsKCX0sCgoJZ2V0VmltZW9JZDogZnVuY3Rpb24gZ2V0VmltZW9JZCh1cmwpIHsKCQlpZiAodXJsID09PSB1bmRlZmluZWQgfHwgdXJsID09PSBudWxsKSB7CgkJCXJldHVybiBudWxsOwoJCX0KCgkJdmFyIHBhcnRzID0gdXJsLnNwbGl0KCc/Jyk7CgkJdXJsID0gcGFydHNbMF07CgkJcmV0dXJuIHBhcnNlSW50KHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKSk7Cgl9Cn07Cgp2YXIgdmltZW9JZnJhbWVSZW5kZXJlciA9IHsKCgluYW1lOiAndmltZW9faWZyYW1lJywKCW9wdGlvbnM6IHsKCQlwcmVmaXg6ICd2aW1lb19pZnJhbWUnCgl9LAoKCWNhblBsYXlUeXBlOiBmdW5jdGlvbiBjYW5QbGF5VHlwZSh0eXBlKSB7CgkJcmV0dXJuIH5bJ3ZpZGVvL3ZpbWVvJywgJ3ZpZGVvL3gtdmltZW8nXS5pbmRleE9mKHR5cGUudG9Mb3dlckNhc2UoKSk7Cgl9LAoKCWNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG1lZGlhRWxlbWVudCwgb3B0aW9ucywgbWVkaWFGaWxlcykgewoJCXZhciBhcGlTdGFjayA9IFtdLAoJCSAgICB2aW1lbyA9IHt9LAoJCSAgICByZWFkeVN0YXRlID0gNDsKCgkJdmFyIHBhdXNlZCA9IHRydWUsCgkJICAgIHZvbHVtZSA9IDEsCgkJICAgIG9sZFZvbHVtZSA9IHZvbHVtZSwKCQkgICAgY3VycmVudFRpbWUgPSAwLAoJCSAgICBidWZmZXJlZFRpbWUgPSAwLAoJCSAgICBlbmRlZCA9IGZhbHNlLAoJCSAgICBkdXJhdGlvbiA9IDAsCgkJICAgIHZpbWVvUGxheWVyID0gbnVsbCwKCQkgICAgdXJsID0gJyc7CgoJCXZpbWVvLm9wdGlvbnMgPSBvcHRpb25zOwoJCXZpbWVvLmlkID0gbWVkaWFFbGVtZW50LmlkICsgJ18nICsgb3B0aW9ucy5wcmVmaXg7CgkJdmltZW8ubWVkaWFFbGVtZW50ID0gbWVkaWFFbGVtZW50OwoKCQl2YXIgZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yLCB0YXJnZXQpIHsKCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgnZXJyb3InLCB0YXJnZXQpOwoJCQlldmVudC5tZXNzYWdlID0gZXJyb3IubmFtZSArICc6ICcgKyBlcnJvci5tZXNzYWdlOwoJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJfTsKCgkJdmFyIHByb3BzID0gbWVqcy5odG1sNW1lZGlhLnByb3BlcnRpZXMsCgkJICAgIGFzc2lnbkdldHRlcnNTZXR0ZXJzID0gZnVuY3Rpb24gYXNzaWduR2V0dGVyc1NldHRlcnMocHJvcE5hbWUpIHsKCgkJCXZhciBjYXBOYW1lID0gJycgKyBwcm9wTmFtZS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIHByb3BOYW1lLnN1YnN0cmluZygxKTsKCgkJCXZpbWVvWydnZXQnICsgY2FwTmFtZV0gPSBmdW5jdGlvbiAoKSB7CgkJCQlpZiAodmltZW9QbGF5ZXIgIT09IG51bGwpIHsKCQkJCQl2YXIgdmFsdWUgPSBudWxsOwoKCQkJCQlzd2l0Y2ggKHByb3BOYW1lKSB7CgkJCQkJCWNhc2UgJ2N1cnJlbnRUaW1lJzoKCQkJCQkJCXJldHVybiBjdXJyZW50VGltZTsKCgkJCQkJCWNhc2UgJ2R1cmF0aW9uJzoKCQkJCQkJCXJldHVybiBkdXJhdGlvbjsKCgkJCQkJCWNhc2UgJ3ZvbHVtZSc6CgkJCQkJCQlyZXR1cm4gdm9sdW1lOwoJCQkJCQljYXNlICdtdXRlZCc6CgkJCQkJCQlyZXR1cm4gdm9sdW1lID09PSAwOwoJCQkJCQljYXNlICdwYXVzZWQnOgoJCQkJCQkJcmV0dXJuIHBhdXNlZDsKCQkJCQkJY2FzZSAnZW5kZWQnOgoJCQkJCQkJcmV0dXJuIGVuZGVkOwoKCQkJCQkJY2FzZSAnc3JjJzoKCQkJCQkJCXZpbWVvUGxheWVyLmdldFZpZGVvVXJsKCkudGhlbihmdW5jdGlvbiAoX3VybCkgewoJCQkJCQkJCXVybCA9IF91cmw7CgkJCQkJCQl9KTsKCgkJCQkJCQlyZXR1cm4gdXJsOwoJCQkJCQljYXNlICdidWZmZXJlZCc6CgkJCQkJCQlyZXR1cm4gewoJCQkJCQkJCXN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKCQkJCQkJCQkJcmV0dXJuIDA7CgkJCQkJCQkJfSwKCQkJCQkJCQllbmQ6IGZ1bmN0aW9uIGVuZCgpIHsKCQkJCQkJCQkJcmV0dXJuIGJ1ZmZlcmVkVGltZSAqIGR1cmF0aW9uOwoJCQkJCQkJCX0sCgkJCQkJCQkJbGVuZ3RoOiAxCgkJCQkJCQl9OwoJCQkJCQljYXNlICdyZWFkeVN0YXRlJzoKCQkJCQkJCXJldHVybiByZWFkeVN0YXRlOwoJCQkJCX0KCQkJCQlyZXR1cm4gdmFsdWU7CgkJCQl9IGVsc2UgewoJCQkJCXJldHVybiBudWxsOwoJCQkJfQoJCQl9OwoKCQkJdmltZW9bJ3NldCcgKyBjYXBOYW1lXSA9IGZ1bmN0aW9uICh2YWx1ZSkgewoJCQkJaWYgKHZpbWVvUGxheWVyICE9PSBudWxsKSB7CgkJCQkJc3dpdGNoIChwcm9wTmFtZSkgewoJCQkJCQljYXNlICdzcmMnOgoJCQkJCQkJdmFyIF91cmwyID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHZhbHVlIDogdmFsdWVbMF0uc3JjLAoJCQkJCQkJICAgIHZpZGVvSWQgPSBWaW1lb0FwaS5nZXRWaW1lb0lkKF91cmwyKTsKCgkJCQkJCQl2aW1lb1BsYXllci5sb2FkVmlkZW8odmlkZW9JZCkudGhlbihmdW5jdGlvbiAoKSB7CgkJCQkJCQkJaWYgKG1lZGlhRWxlbWVudC5vcmlnaW5hbE5vZGUuYXV0b3BsYXkpIHsKCQkJCQkJCQkJdmltZW9QbGF5ZXIucGxheSgpOwoJCQkJCQkJCX0KCQkJCQkJCX0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkJCQkJCWVycm9ySGFuZGxlcihlcnJvciwgdmltZW8pOwoJCQkJCQkJfSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAnY3VycmVudFRpbWUnOgoJCQkJCQkJdmltZW9QbGF5ZXIuc2V0Q3VycmVudFRpbWUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKCkgewoJCQkJCQkJCWN1cnJlbnRUaW1lID0gdmFsdWU7CgkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoJ3RpbWV1cGRhdGUnLCB2aW1lbyk7CgkJCQkJCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJCQkJCQl9LCA1MCk7CgkJCQkJCQl9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKCQkJCQkJCQllcnJvckhhbmRsZXIoZXJyb3IsIHZpbWVvKTsKCQkJCQkJCX0pOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgJ3ZvbHVtZSc6CgkJCQkJCQl2aW1lb1BsYXllci5zZXRWb2x1bWUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKCkgewoJCQkJCQkJCXZvbHVtZSA9IHZhbHVlOwoJCQkJCQkJCW9sZFZvbHVtZSA9IHZvbHVtZTsKCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQkJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgndm9sdW1lY2hhbmdlJywgdmltZW8pOwoJCQkJCQkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCQkJCQkJfSwgNTApOwoJCQkJCQkJfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CgkJCQkJCQkJZXJyb3JIYW5kbGVyKGVycm9yLCB2aW1lbyk7CgkJCQkJCQl9KTsKCQkJCQkJCWJyZWFrOwoJCQkJCQljYXNlICdsb29wJzoKCQkJCQkJCXZpbWVvUGxheWVyLnNldExvb3AodmFsdWUpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkJCQkJCWVycm9ySGFuZGxlcihlcnJvciwgdmltZW8pOwoJCQkJCQkJfSk7CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAnbXV0ZWQnOgoJCQkJCQkJaWYgKHZhbHVlKSB7CgkJCQkJCQkJdmltZW9QbGF5ZXIuc2V0Vm9sdW1lKDApLnRoZW4oZnVuY3Rpb24gKCkgewoJCQkJCQkJCQl2b2x1bWUgPSAwOwoJCQkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQkJCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoJ3ZvbHVtZWNoYW5nZScsIHZpbWVvKTsKCQkJCQkJCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJCQkJCQkJfSwgNTApOwoJCQkJCQkJCX0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkJCQkJCQllcnJvckhhbmRsZXIoZXJyb3IsIHZpbWVvKTsKCQkJCQkJCQl9KTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJdmltZW9QbGF5ZXIuc2V0Vm9sdW1lKG9sZFZvbHVtZSkudGhlbihmdW5jdGlvbiAoKSB7CgkJCQkJCQkJCXZvbHVtZSA9IG9sZFZvbHVtZTsKCQkJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCQkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCd2b2x1bWVjaGFuZ2UnLCB2aW1lbyk7CgkJCQkJCQkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCQkJCQkJCX0sIDUwKTsKCQkJCQkJCQl9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKCQkJCQkJCQkJZXJyb3JIYW5kbGVyKGVycm9yLCB2aW1lbyk7CgkJCQkJCQkJfSk7CgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAncmVhZHlTdGF0ZSc6CgkJCQkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCdjYW5wbGF5JywgdmltZW8pOwoJCQkJCQkJbWVkaWFFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQkJCQkJYnJlYWs7CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQkKCQkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJYXBpU3RhY2sucHVzaCh7IHR5cGU6ICdzZXQnLCBwcm9wTmFtZTogcHJvcE5hbWUsIHZhbHVlOiB2YWx1ZSB9KTsKCQkJCX0KCQkJfTsKCQl9OwoKCQlmb3IgKHZhciBpID0gMCwgdG90YWwgPSBwcm9wcy5sZW5ndGg7IGkgPCB0b3RhbDsgaSsrKSB7CgkJCWFzc2lnbkdldHRlcnNTZXR0ZXJzKHByb3BzW2ldKTsKCQl9CgoJCXZhciBtZXRob2RzID0gbWVqcy5odG1sNW1lZGlhLm1ldGhvZHMsCgkJICAgIGFzc2lnbk1ldGhvZHMgPSBmdW5jdGlvbiBhc3NpZ25NZXRob2RzKG1ldGhvZE5hbWUpIHsKCQkJdmltZW9bbWV0aG9kTmFtZV0gPSBmdW5jdGlvbiAoKSB7CgkJCQlpZiAodmltZW9QbGF5ZXIgIT09IG51bGwpIHsKCQkJCQlzd2l0Y2ggKG1ldGhvZE5hbWUpIHsKCQkJCQkJY2FzZSAncGxheSc6CgkJCQkJCQlwYXVzZWQgPSBmYWxzZTsKCQkJCQkJCXJldHVybiB2aW1lb1BsYXllci5wbGF5KCk7CgkJCQkJCWNhc2UgJ3BhdXNlJzoKCQkJCQkJCXBhdXNlZCA9IHRydWU7CgkJCQkJCQlyZXR1cm4gdmltZW9QbGF5ZXIucGF1c2UoKTsKCQkJCQkJY2FzZSAnbG9hZCc6CgkJCQkJCQlyZXR1cm4gbnVsbDsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWFwaVN0YWNrLnB1c2goeyB0eXBlOiAnY2FsbCcsIG1ldGhvZE5hbWU6IG1ldGhvZE5hbWUgfSk7CgkJCQl9CgkJCX07CgkJfTsKCgkJZm9yICh2YXIgX2kgPSAwLCBfdG90YWwgPSBtZXRob2RzLmxlbmd0aDsgX2kgPCBfdG90YWw7IF9pKyspIHsKCQkJYXNzaWduTWV0aG9kcyhtZXRob2RzW19pXSk7CgkJfQoKCQl3aW5kb3dbJ19fcmVhZHlfXycgKyB2aW1lby5pZF0gPSBmdW5jdGlvbiAoX3ZpbWVvUGxheWVyKSB7CgoJCQltZWRpYUVsZW1lbnQudmltZW9QbGF5ZXIgPSB2aW1lb1BsYXllciA9IF92aW1lb1BsYXllcjsKCgkJCWlmIChhcGlTdGFjay5sZW5ndGgpIHsKCQkJCWZvciAodmFyIF9pMiA9IDAsIF90b3RhbDIgPSBhcGlTdGFjay5sZW5ndGg7IF9pMiA8IF90b3RhbDI7IF9pMisrKSB7CgkJCQkJdmFyIHN0YWNrSXRlbSA9IGFwaVN0YWNrW19pMl07CgoJCQkJCWlmIChzdGFja0l0ZW0udHlwZSA9PT0gJ3NldCcpIHsKCQkJCQkJdmFyIHByb3BOYW1lID0gc3RhY2tJdGVtLnByb3BOYW1lLAoJCQkJCQkgICAgY2FwTmFtZSA9ICcnICsgcHJvcE5hbWUuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBwcm9wTmFtZS5zdWJzdHJpbmcoMSk7CgoJCQkJCQl2aW1lb1snc2V0JyArIGNhcE5hbWVdKHN0YWNrSXRlbS52YWx1ZSk7CgkJCQkJfSBlbHNlIGlmIChzdGFja0l0ZW0udHlwZSA9PT0gJ2NhbGwnKSB7CgkJCQkJCXZpbWVvW3N0YWNrSXRlbS5tZXRob2ROYW1lXSgpOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJdmFyIHZpbWVvSWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmltZW8uaWQpOwoJCQl2YXIgZXZlbnRzID0gdm9pZCAwOwoKCQkJZXZlbnRzID0gWydtb3VzZW92ZXInLCAnbW91c2VvdXQnXTsKCgkJCXZhciBhc3NpZ25FdmVudHMgPSBmdW5jdGlvbiBhc3NpZ25FdmVudHMoZSkgewoJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudChlLnR5cGUsIHZpbWVvKTsKCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJfTsKCgkJCWZvciAodmFyIF9pMyA9IDAsIF90b3RhbDMgPSBldmVudHMubGVuZ3RoOyBfaTMgPCBfdG90YWwzOyBfaTMrKykgewoJCQkJdmltZW9JZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihldmVudHNbX2kzXSwgYXNzaWduRXZlbnRzLCBmYWxzZSk7CgkJCX0KCgkJCXZpbWVvUGxheWVyLm9uKCdsb2FkZWQnLCBmdW5jdGlvbiAoKSB7CgkJCQl2aW1lb1BsYXllci5nZXREdXJhdGlvbigpLnRoZW4oZnVuY3Rpb24gKGxvYWRQcm9ncmVzcykgewoJCQkJCWR1cmF0aW9uID0gbG9hZFByb2dyZXNzOwoJCQkJCWlmIChkdXJhdGlvbiA+IDApIHsKCQkJCQkJYnVmZmVyZWRUaW1lID0gZHVyYXRpb24gKiBsb2FkUHJvZ3Jlc3M7CgkJCQkJCWlmIChtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmF1dG9wbGF5KSB7CgkJCQkJCQlwYXVzZWQgPSBmYWxzZTsKCQkJCQkJCWVuZGVkID0gZmFsc2U7CgkJCQkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCdwbGF5JywgdmltZW8pOwoJCQkJCQkJbWVkaWFFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CgkJCQkJZXJyb3JIYW5kbGVyKGVycm9yLCB2aW1lbyk7CgkJCQl9KTsKCQkJfSk7CgkJCXZpbWVvUGxheWVyLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uICgpIHsKCQkJCXZpbWVvUGxheWVyLmdldER1cmF0aW9uKCkudGhlbihmdW5jdGlvbiAobG9hZFByb2dyZXNzKSB7CgkJCQkJZHVyYXRpb24gPSBsb2FkUHJvZ3Jlc3M7CgoJCQkJCWlmIChkdXJhdGlvbiA+IDApIHsKCQkJCQkJYnVmZmVyZWRUaW1lID0gZHVyYXRpb24gKiBsb2FkUHJvZ3Jlc3M7CgkJCQkJCWlmIChtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmF1dG9wbGF5KSB7CgkJCQkJCQl2YXIgaW5pdEV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgncGxheScsIHZpbWVvKTsKCQkJCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGluaXRFdmVudCk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoJ3Byb2dyZXNzJywgdmltZW8pOwoJCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJCX0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkJCWVycm9ySGFuZGxlcihlcnJvciwgdmltZW8pOwoJCQkJfSk7CgkJCX0pOwoJCQl2aW1lb1BsYXllci5vbigndGltZXVwZGF0ZScsIGZ1bmN0aW9uICgpIHsKCQkJCXZpbWVvUGxheWVyLmdldEN1cnJlbnRUaW1lKCkudGhlbihmdW5jdGlvbiAoc2Vjb25kcykgewoJCQkJCWN1cnJlbnRUaW1lID0gc2Vjb25kczsKCgkJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgndGltZXVwZGF0ZScsIHZpbWVvKTsKCQkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCQl9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKCQkJCQllcnJvckhhbmRsZXIoZXJyb3IsIHZpbWVvKTsKCQkJCX0pOwoJCQl9KTsKCQkJdmltZW9QbGF5ZXIub24oJ3BsYXknLCBmdW5jdGlvbiAoKSB7CgkJCQlwYXVzZWQgPSBmYWxzZTsKCQkJCWVuZGVkID0gZmFsc2U7CgkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCdwbGF5JywgdmltZW8pOwoJCQkJbWVkaWFFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwoJCQl9KTsKCQkJdmltZW9QbGF5ZXIub24oJ3BhdXNlJywgZnVuY3Rpb24gKCkgewoJCQkJcGF1c2VkID0gdHJ1ZTsKCQkJCWVuZGVkID0gZmFsc2U7CgoJCQkJdmFyIGV2ZW50ID0gbWVqcy5VdGlscy5jcmVhdGVFdmVudCgncGF1c2UnLCB2aW1lbyk7CgkJCQltZWRpYUVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7CgkJCX0pOwoJCQl2aW1lb1BsYXllci5vbignZW5kZWQnLCBmdW5jdGlvbiAoKSB7CgkJCQlwYXVzZWQgPSBmYWxzZTsKCQkJCWVuZGVkID0gdHJ1ZTsKCgkJCQl2YXIgZXZlbnQgPSBtZWpzLlV0aWxzLmNyZWF0ZUV2ZW50KCdlbmRlZCcsIHZpbWVvKTsKCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJfSk7CgoJCQlldmVudHMgPSBbJ3JlbmRlcmVycmVhZHknLCAnbG9hZGVkbWV0YWRhdGEnLCAnbG9hZGVkZGF0YScsICdjYW5wbGF5J107CgoJCQlmb3IgKHZhciBfaTQgPSAwLCBfdG90YWw0ID0gZXZlbnRzLmxlbmd0aDsgX2k0IDwgX3RvdGFsNDsgX2k0KyspIHsKCQkJCXZhciBldmVudCA9IG1lanMuVXRpbHMuY3JlYXRlRXZlbnQoZXZlbnRzW19pNF0sIHZpbWVvKTsKCQkJCW1lZGlhRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKCQkJfQoJCX07CgoJCXZhciBoZWlnaHQgPSBtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmhlaWdodCwKCQkgICAgd2lkdGggPSBtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLndpZHRoLAoJCSAgICB2aW1lb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpLAoJCSAgICBzdGFuZGFyZFVybCA9ICcvL3BsYXllci52aW1lby5jb20vdmlkZW8vJyArIFZpbWVvQXBpLmdldFZpbWVvSWQobWVkaWFGaWxlc1swXS5zcmMpOwoKCQl2YXIgcXVlcnlBcmdzID0gfm1lZGlhRmlsZXNbMF0uc3JjLmluZGV4T2YoJz8nKSA/ICc/JyArIG1lZGlhRmlsZXNbMF0uc3JjLnNsaWNlKG1lZGlhRmlsZXNbMF0uc3JjLmluZGV4T2YoJz8nKSArIDEpIDogJyc7CgkJaWYgKHF1ZXJ5QXJncyAmJiBtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmF1dG9wbGF5ICYmIHF1ZXJ5QXJncy5pbmRleE9mKCdhdXRvcGxheScpID09PSAtMSkgewoJCQlxdWVyeUFyZ3MgKz0gJyZhdXRvcGxheT0xJzsKCQl9CgkJaWYgKHF1ZXJ5QXJncyAmJiBtZWRpYUVsZW1lbnQub3JpZ2luYWxOb2RlLmxvb3AgJiYgcXVlcnlBcmdzLmluZGV4T2YoJ2xvb3AnKSA9PT0gLTEpIHsKCQkJcXVlcnlBcmdzICs9ICcmbG9vcD0xJzsKCQl9CgoJCXZpbWVvQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCB2aW1lby5pZCk7CgkJdmltZW9Db250YWluZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoKTsKCQl2aW1lb0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7CgkJdmltZW9Db250YWluZXIuc2V0QXR0cmlidXRlKCdmcmFtZUJvcmRlcicsICcwJyk7CgkJdmltZW9Db250YWluZXIuc2V0QXR0cmlidXRlKCdzcmMnLCAnJyArIHN0YW5kYXJkVXJsICsgcXVlcnlBcmdzKTsKCQl2aW1lb0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3dlYmtpdGFsbG93ZnVsbHNjcmVlbicsICcnKTsKCQl2aW1lb0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ21vemFsbG93ZnVsbHNjcmVlbicsICcnKTsKCQl2aW1lb0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FsbG93ZnVsbHNjcmVlbicsICcnKTsKCgkJbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh2aW1lb0NvbnRhaW5lciwgbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZSk7CgkJbWVkaWFFbGVtZW50Lm9yaWdpbmFsTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKCQlWaW1lb0FwaS5sb2FkKHsKCQkJaWZyYW1lOiB2aW1lb0NvbnRhaW5lciwKCQkJaWQ6IHZpbWVvLmlkCgkJfSk7CgoJCXZpbWVvLmhpZGUgPSBmdW5jdGlvbiAoKSB7CgkJCXZpbWVvLnBhdXNlKCk7CgkJCWlmICh2aW1lb1BsYXllcikgewoJCQkJdmltZW9Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQkJfQoJCX07CgkJdmltZW8uc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CgkJCXZpbWVvQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aCk7CgkJCXZpbWVvQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTsKCQl9OwoJCXZpbWVvLnNob3cgPSBmdW5jdGlvbiAoKSB7CgkJCWlmICh2aW1lb1BsYXllcikgewoJCQkJdmltZW9Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICcnOwoJCQl9CgkJfTsKCgkJcmV0dXJuIHZpbWVvOwoJfQp9OwoKbWVqcy5VdGlscy50eXBlQ2hlY2tzLnB1c2goZnVuY3Rpb24gKHVybCkgewoJcmV0dXJuICgvKFwvXC9wbGF5ZXJcLnZpbWVvfHZpbWVvXC5jb20pL2kudGVzdCh1cmwpID8gJ3ZpZGVvL3gtdmltZW8nIDogbnVsbAoJKTsKfSk7CgptZWpzLlJlbmRlcmVycy5hZGQodmltZW9JZnJhbWVSZW5kZXJlcik7Cgp9LHt9XX0se30sWzFdKTsK
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 11520
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 2300
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20170602T092908Z
    - ID: "2fafe7cb-2691-4800-8848-255efa1d31aa"
      Hint: Keywords
      Value: mediaelementjs library for video component
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\Admin
