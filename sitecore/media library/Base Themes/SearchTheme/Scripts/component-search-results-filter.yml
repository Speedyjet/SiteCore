---
ID: "295fa0f0-8738-48ee-822a-114531fb9d76"
Parent: "dfcbfa5a-2e37-418a-adb7-f411ecae89a9"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/SearchTheme/Scripts/component-search-results-filter"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/295FA0F0873848EE822A114531FB9D76.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  Value: LyoqDQogKiBGYWNldCBmYWNldCByZXN1bHQgZmlsdGVyIGNvbXBvbmVudCBmdW5jdGlvbmFsaXR5DQogKiBAbW9kdWxlIGZhY2V0UmVzdWx0c0ZpbHRlcg0KICogQHBhcmFtICB7alF1ZXJ5fSAkIEluc3RhbmNlIG9mIGpRdWVyeQ0KICogQHBhcmFtICB7RG9jdW1lbnR9IGRvY3VtZW50IGRvbSBkb2N1bWVudCBvYmplY3QNCiAqIEByZXR1cm4ge09iamVjdH0gbGlzdCBvZiBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggY29tcG9uZW50IGZhY2V0IHJlc3VsdCBmaWx0ZXINCiovDQpYQS5jb21wb25lbnQuc2VhcmNoLmZhY2V0LnJlc3VsdHNmaWx0ZXIgPSAoZnVuY3Rpb24gKCQsIGRvY3VtZW50KSB7DQogICAgLyoqDQogICAgKiBUaGlzIG9iamVjdCBzdG9yZXMgYWxsIHB1YmxpYyBhcGkgbWV0aG9kcw0KICAgICogQHR5cGUge09iamVjdC48TWV0aG9kcz59DQogICAgKiBAbWVtYmVyT2YgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlcg0KICAgICovDQogICAgdmFyIGFwaSA9IHt9LA0KICAgICAgICB1cmxIZWxwZXJNb2RlbCwNCiAgICAgICAgcXVlcnlNb2RlbCwNCiAgICAgICAgYXBpTW9kZWw7DQogICAgLyoqDQogICAgKiBAbmFtZSBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlck1vZGVsDQogICAgKiBAY29uc3RydWN0b3INCiAgICAqIEBhdWdtZW50cyBCYWNrYm9uZS5Nb2RlbA0KICAgICovDQogICAgdmFyIEZhY2V0UmVzdWx0c0ZpbHRlck1vZGVsID0gWEEuY29tcG9uZW50LnNlYXJjaC5iYXNlTW9kZWwuZXh0ZW5kKA0KICAgICAgICAvKiogQGxlbmRzIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyTW9kZWwucHJvdG90eXBlICoqLw0KICAgICAgICB7DQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICogRGVmYXVsdCBtb2RlbCBvcHRpb25zDQogICAgICAgICAgICAqIEBkZWZhdWx0DQogICAgICAgICAgICAqLw0KICAgICAgICAgICAgZGVmYXVsdHM6IHsNCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogIjxkaXYgY2xhc3M9J2ZhY2V0LXNlYXJjaC1maWx0ZXIgPCUgaWYoIXNob3dBbGxGYWNldHMpeyU+ZmFjZXQtaGlkZWQ8JX0lPic+PCUgIiArDQogICAgICAgICAgICAgICAgICAgICJfLmZvckVhY2goZmFjZXQuVmFsdWVzLCBmdW5jdGlvbih2YWx1ZSxrZXkpeyIgKw0KICAgICAgICAgICAgICAgICAgICAiJT48cCBjbGFzcz0nZmFjZXQtdmFsdWUgPCUgaWYoaGlnaGxpZ2h0QmVoYXZpb3VyPD1rZXkpeyAlPiBoaWRlLWZhY2V0LXZhbHVlIDwlIH0gJT4nIGRhdGEtZmFjZXRWYWx1ZT0nPCU9IHZhbHVlLk5hbWUgIT09ICcnID8gZW5jb2RlVVJJKHZhbHVlLk5hbWUpIDogJ19lbXB0eV8nICU+Jz4iICsNCiAgICAgICAgICAgICAgICAgICAgIjxzcGFuPjwlPSB2YWx1ZS5OYW1lICE9PSAnJyA/IHZhbHVlLk5hbWUgOiBlbXB0eVRleHQgJT4gIiArDQogICAgICAgICAgICAgICAgICAgICI8c3BhbiBjbGFzcz0nZmFjZXQtY291bnQnPig8JT0gdmFsdWUuQ291bnQgJT4pPC9zcGFuPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPC9zcGFuPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPC9wPjwlIiArDQogICAgICAgICAgICAgICAgICAgICIgfSk7ICU+IiArDQogICAgICAgICAgICAgICAgICAgICI8JSBpZihoaWdobGlnaHRCZWhhdmlvdXI+PTEgJiYgcmVzdWx0c0NvdW50PmhpZ2hsaWdodEJlaGF2aW91cil7ICU+IiArDQogICAgICAgICAgICAgICAgICAgICI8ZGl2IGNsYXNzPSd0b29nbGUtZmFjZXQtdmlzaWJpbGl0eSc+PCUgaWYoc2hvd0FsbEZhY2V0cyl7ICU+PCU9c2hvd0xlc3NUZXh0JT48JX1lbHNleyU+PCU9c2hvd01vcmVUZXh0JT48JX0gJT48L2Rpdj4iICsNCiAgICAgICAgICAgICAgICAgICAgIjwlfSU+IiArDQogICAgICAgICAgICAgICAgICAgICI8L2Rpdj4iLA0KDQogICAgICAgICAgICAgICAgdGVtcGxhdGVNdWx0aTogIjxkaXYgY2xhc3M9J2ZhY2V0LXNlYXJjaC1maWx0ZXIgPCUgaWYoIXNob3dBbGxGYWNldHMpeyU+ZmFjZXQtaGlkZWQ8JX0lPic+PCUgIiArDQogICAgICAgICAgICAgICAgICAgICJfLmZvckVhY2goZmFjZXQuVmFsdWVzLCBmdW5jdGlvbih2YWx1ZSxrZXkpeyIgKw0KICAgICAgICAgICAgICAgICAgICAiJT48cCBjbGFzcz0nZmFjZXQtdmFsdWUgPCUgaWYoaGlnaGxpZ2h0QmVoYXZpb3VyPD1rZXkpeyAlPiBoaWRlLWZhY2V0LXZhbHVlIDwlIH0gJT4nIGRhdGEtZmFjZXRWYWx1ZT0nPCU9IHZhbHVlLk5hbWUgIT09ICcnID8gZW5jb2RlVVJJKHZhbHVlLk5hbWUpIDogJ19lbXB0eV8nICU+Jz4iICsNCiAgICAgICAgICAgICAgICAgICAgIjxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0nZmFjZXRWYWx1ZScgLz4iICsNCiAgICAgICAgICAgICAgICAgICAgIjxsYWJlbCBmb3I9J2ZhY2V0TmFtZSc+PCU9IHZhbHVlLk5hbWUgIT09ICcnID8gdmFsdWUuTmFtZSA6IGVtcHR5VGV4dCAlPiAiICsNCiAgICAgICAgICAgICAgICAgICAgIjxzcGFuIGNsYXNzPSdmYWNldC1jb3VudCcgZGF0YS1mYWNldENvdW50PSc8JT0gdmFsdWUuQ291bnQgJT4nPig8JT0gdmFsdWUuQ291bnQgJT4pPC9zcGFuPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPC9sYWJlbD4iICsNCiAgICAgICAgICAgICAgICAgICAgIjwvcD48JSIgKw0KICAgICAgICAgICAgICAgICAgICAiIH0pOyAlPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPCUgaWYoaGlnaGxpZ2h0QmVoYXZpb3VyPj0xICYmIHJlc3VsdHNDb3VudD5oaWdobGlnaHRCZWhhdmlvdXIpeyAlPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPGRpdiBjbGFzcz0ndG9vZ2xlLWZhY2V0LXZpc2liaWxpdHknPjwlIGlmKHNob3dBbGxGYWNldHMpeyAlPjwlPXNob3dMZXNzVGV4dCU+PCV9ZWxzZXslPjwlPXNob3dNb3JlVGV4dCU+PCV9ICU+PC9kaXY+IiArDQogICAgICAgICAgICAgICAgICAgICI8JX0lPiIgKw0KICAgICAgICAgICAgICAgICAgICAiPC9kaXY+IiwNCiAgICAgICAgICAgICAgICBkYXRhUHJvcGVydGllczoge30sDQogICAgICAgICAgICAgICAgYmxvY2tOZXh0UmVxdWVzdDogZmFsc2UsDQogICAgICAgICAgICAgICAgcmVzdWx0RGF0YToge30sDQogICAgICAgICAgICAgICAgdGltZVN0YW1wOiAnJywNCiAgICAgICAgICAgICAgICBzaG93QWxsRmFjZXRzOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBzaWc6IFtdDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAqIExpc3RlbnMgdG8gY2hhbmdlcyBvbiBmYWNldHMgYW5kIGhhc2gNCiAgICAgICAgICAgKiBAbGlzdGVucyBtb2R1bGU6WEEuY29tcG9uZW50LnNlYXJjaC52ZW50fmV2ZW50OmZhY2V0LWRhdGEtbG9hZGVkDQogICAgICAgICAgICogQGxpc3RlbnMgbW9kdWxlOlhBLmNvbXBvbmVudC5zZWFyY2gudmVudH5ldmVudDpmYWNldC1kYXRhLWZpbHRlcmVkDQogICAgICAgICAgICogQGxpc3RlbnMgbW9kdWxlOlhBLmNvbXBvbmVudC5zZWFyY2gudmVudH5ldmVudDpmYWNldC1kYXRhLXBhcnRpYWwtZmlsdGVyZWQNCiAgICAgICAgICAgKiBAbGlzdGVucyBtb2R1bGU6WEEuY29tcG9uZW50LnNlYXJjaC52ZW50fmV2ZW50Omhhc2hDaGFuZ2VkDQogICAgICAgICAgICovDQogICAgICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgLy9ldmVudCB0byBnZXQgZGF0YSBhdCB0aGUgYmVnaW5pbmcgb3IgaW4gY2FzZSB0aGF0IHRoZXJlIGFyZSBubyBoYXNoIHBhcmFtZXRlcnMgaW4gdGhlIHVybCAtIG9uZSByZXF1ZXN0IGZvciBhbGwgY29udHJvbHMNCiAgICAgICAgICAgICAgICBYQS5jb21wb25lbnQuc2VhcmNoLnZlbnQub24oImZhY2V0LWRhdGEtbG9hZGVkIiwgdGhpcy5wcm9jZXNzRGF0YS5iaW5kKHRoaXMpKTsNCiAgICAgICAgICAgICAgICAvL2lmIGluIHRoZSB1cmwgaGFzaCB3ZSBoYXZlIHRoaXMgY29udHJvbCBmYWNldCBuYW1lIChzb21lb25lIGNsaWNrZWQgdGhpcyBjb250cm9sKSB0aGVuIHdlIGhhdmUgdG8gbGlzdGVuIGZvciBwYXJ0aWFsIGZpbHRlcmluZw0KICAgICAgICAgICAgICAgIFhBLmNvbXBvbmVudC5zZWFyY2gudmVudC5vbigiZmFjZXQtZGF0YS1wYXJ0aWFsLWZpbHRlcmVkIiwgdGhpcy5wcm9jZXNzRGF0YS5iaW5kKHRoaXMpKTsNCiAgICAgICAgICAgICAgICAvL2luIGNhc2UgdGhhdCB3ZSBhcmUgbm90IGZpbHRlcmluZyBieSB0aGlzIGNvbnRyb2wgKG5vdCBjbGlja2VkKQ0KICAgICAgICAgICAgICAgIFhBLmNvbXBvbmVudC5zZWFyY2gudmVudC5vbigiZmFjZXQtZGF0YS1maWx0ZXJlZCIsIHRoaXMucHJvY2Vzc0RhdGEuYmluZCh0aGlzKSk7DQogICAgICAgICAgICAgICAgLy9ldmVudCBhZnRlciBjaGFuZ2Ugb2YgaGFzaA0KICAgICAgICAgICAgICAgIFhBLmNvbXBvbmVudC5zZWFyY2gudmVudC5vbigiaGFzaENoYW5nZWQiLCB0aGlzLnVwZGF0ZUNvbXBvbmVudC5iaW5kKHRoaXMpKTsNCg0KICAgICAgICAgICAgICAgIHRoaXMuc2V0KHsgZmFjZXRBcnJheTogW10gfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgKiBUb2dnbGVzIHZhbHVlIG9mIGJsb2NrTmV4dFJlcXVlc3QgdmFyaWFibGUNCiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbCN0b2dnbGVCbG9ja1JlcXVlc3RzDQogICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIHRvZ2dsZUJsb2NrUmVxdWVzdHM6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldCgiYmxvY2tOZXh0UmVxdWVzdCIpOw0KICAgICAgICAgICAgICAgIHRoaXMuc2V0KHRoaXMuZ2V0KCJibG9ja05leHRSZXF1ZXN0IiksICFzdGF0ZSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAqIFByb2Nlc3NlcyBkYXRhIHRoYXQgY29tZXMgYXMgcGFyYW1ldGVyIHVwZGF0ZQ0KICAgICAgICAgICAgKiBtb2RlbCBhbmQgc29ydCBmYWNldHMNCiAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgRGF0YSBmcm9tIHNlcnZlciB3aXRoIGZhY2V0IHZhbHVlcw0KICAgICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbA0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbCNwcm9jZXNzRGF0YQ0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmdW5jdGlvbiAoZGF0YSkgew0KICAgICAgICAgICAgICAgIHZhciBpbnN0ID0gdGhpcywNCiAgICAgICAgICAgICAgICAgICAgZGF0YVByb3BlcnRpZXMgPSB0aGlzLmdldCgnZGF0YVByb3BlcnRpZXMnKSwNCiAgICAgICAgICAgICAgICAgICAgc2lnID0gZGF0YVByb3BlcnRpZXMuc2VhcmNoUmVzdWx0c1NpZ25hdHVyZS5zcGxpdCgnLCcpLA0KICAgICAgICAgICAgICAgICAgICBzb3J0T3JkZXIgPSBkYXRhUHJvcGVydGllcy5zb3J0T3JkZXIsDQogICAgICAgICAgICAgICAgICAgIGk7DQoNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5TaWduYXR1cmUgPT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5TaWduYXR1cmUgPSAiIjsNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuRmFjZXRzLmxlbmd0aCA+IDAgJiYgKGRhdGEuU2lnbmF0dXJlID09PSBzaWdbaV0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZWREYXRhID0gXy5maW5kKGRhdGEuRmFjZXRzLCBmdW5jdGlvbiAoZikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmLktleS50b0xvd2VyQ2FzZSgpID09PSBpbnN0LmdldCgnZGF0YVByb3BlcnRpZXMnKS5mLnRvTG93ZXJDYXNlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWNlZERhdGEgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEZhY2V0QXJyYXkoc29ydE9yZGVyLCBmYWNlZERhdGEuVmFsdWVzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0LnNldCh7IHJlc3VsdERhdGE6IGZhY2VkRGF0YSB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGluc3Quc2V0KHsgcmVzdWx0RGF0YTogW10gfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgKiBVcGRhdGVzIG1vZGVsIHZhbHVlICdmYWNldEFycmF5JyB3aXRoIHZhbHVlcyBmcm9tIHZhbHVlc1N0cmluZyBwYXJhbWV0ZXINCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZXNTdHJpbmcgZmFjZXQgdmFsdWVzIHNlcGFyYXRlZCBieSBjb21hDQogICAgICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyTW9kZWwjdXBkYXRlRmFjZXRBcnJheQ0KICAgICAgICAgICAgICovDQogICAgICAgICAgICB1cGRhdGVGYWNldEFycmF5OiBmdW5jdGlvbiAodmFsdWVzU3RyaW5nKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlc1N0cmluZykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWVzU3RyaW5nLnNwbGl0KCJ8fCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2godmFsdWVzW2ldKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldCh7IGZhY2V0QXJyYXk6IF8udW5pcXVlKGFycmF5KSB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgKiBTZXRzIG9wdGlvbiBzZWxlY3RlZCB2YWx1ZSB0byBtb2RlbCBiYXNlZCBvbiBoYXNoDQogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBIYXNoIHN0b3JlZCBhcyBhbiBvYmplY3QNCiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbCN1cGRhdGVDb21wb25lbnQNCiAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbiAoaGFzaCkgew0KICAgICAgICAgICAgICAgIHZhciBzaWcgPSB0aGlzLmdldCgic2lnIik7DQogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc2guaGFzT3duUHJvcGVydHkoc2lnW2ldKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoeyBmYWNldEFycmF5OiBbXSB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRmFjZXRBcnJheShoYXNoW3NpZ1tpXV0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vaW4gc29tZSBjYXNlcyBjaGFuZ2Ugb2YgZmFjZXRBcnJheSBkb2Vzbid0IHRyaWdnZXIgbW9kZWwgY2hhbmdlIGV2ZW50ICh3aHk/KSBhbmQgdmlldyBpc24ndCB1cGRhdGVzDQogICAgICAgICAgICAgICAgICAgIC8vYW5kIGJlY2F1c2Ugb2YgdGhhdCB0aW1lU3RhbXAgaXMgdXBkYXRlZCB3aGljaCBwcm9wZXJseSB0cmlnZ2VycyBtb2RlbCBjaGFuZ2UgZXZlbnQNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoInRpbWVTdGFtcCIsIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgLyoqDQogICAgKiBAbmFtZSBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlclZpZXcNCiAgICAqIEBjb25zdHJ1Y3Rvcg0KICAgICogQGF1Z21lbnRzIEJhY2tib25lLlZpZXcNCiAgICAqLw0KICAgIHZhciBGYWNldFJlc3VsdHNGaWx0ZXJWaWV3ID0gWEEuY29tcG9uZW50LnNlYXJjaC5iYXNlVmlldy5leHRlbmQoDQogICAgICAgIC8qKiBAbGVuZHMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3LnByb3RvdHlwZSAqKi8NCiAgICAgICAgew0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAqIEluaXRpYWxseSBzZXRzIGRhdGEgdG8gbW9kZWwgYW5kIHdhdGNoZXMgZXZlbnRzIG9uIHdoaWNoDQogICAgICAgICAgICAqIHZpZXcgc2hvdWxkIGJlIHVwZGF0ZWQNCiAgICAgICAgICAgICogQGxpc3RlbnMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJNb2RlbH5ldmVudDpjaGFuZ2UNCiAgICAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldw0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3I2luaXRpYWxpemUNCiAgICAgICAgICAgICovDQogICAgICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGFQcm9wZXJ0aWVzID0gdGhpcy4kZWwuZGF0YSgpLA0KICAgICAgICAgICAgICAgICAgICBoYXNoID0gcXVlcnlNb2RlbC5wYXJzZUhhc2hQYXJhbWV0ZXJzKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSwNCiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcyA9IGRhdGFQcm9wZXJ0aWVzLnByb3BlcnRpZXMsDQogICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZXMsDQogICAgICAgICAgICAgICAgICAgIGk7DQoNCg0KICAgICAgICAgICAgICAgIGlmIChkYXRhUHJvcGVydGllcy5wcm9wZXJ0aWVzLnNlYXJjaFJlc3VsdHNTaWduYXR1cmUgPT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgZGF0YVByb3BlcnRpZXMucHJvcGVydGllcy5zZWFyY2hSZXN1bHRzU2lnbmF0dXJlID0gIiI7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgc2lnbmF0dXJlcyA9IHRoaXMudHJhbnNsYXRlU2lnbmF0dXJlcyhwcm9wZXJ0aWVzLnNlYXJjaFJlc3VsdHNTaWduYXR1cmUsIHByb3BlcnRpZXMuZik7DQoNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IGRhdGFQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCJzaWciLCBzaWduYXR1cmVzKTsNCg0KICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWduYXR1cmVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghalF1ZXJ5LmlzRW1wdHlPYmplY3QoXy5waWNrKGhhc2gsIHNpZ25hdHVyZXNbaV0pKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF8udmFsdWVzKF8ucGljayhoYXNoLCBzaWduYXR1cmVzW2ldKSlbMF07DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZUZhY2V0QXJyYXkodmFsdWVzKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5vbigiY2hhbmdlIiwgdGhpcy5yZW5kZXIsIHRoaXMpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICogbGlzdCBvZiBldmVudHMgZm9yIEJhY2tib25lIFZpZXcNCiAgICAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldw0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3I2V2ZW50cw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBldmVudHM6IHsNCiAgICAgICAgICAgICAgICAnY2xpY2sgLmZhY2V0LXZhbHVlJzogJ3VwZGF0ZUZhY2V0JywNCiAgICAgICAgICAgICAgICAnY2xpY2sgLmZpbHRlckJ1dHRvbic6ICd1cGRhdGVGYWNldCcsDQogICAgICAgICAgICAgICAgJ2NsaWNrIC5jbGVhci1maWx0ZXInOiAncmVtb3ZlRmFjZXQnLA0KICAgICAgICAgICAgICAgICdjbGljayAuYm90dG9tLXJlbW92ZS1maWx0ZXIgPiBidXR0b24nOiAncmVtb3ZlRmFjZXQnLA0KICAgICAgICAgICAgICAgICdjbGljayAudG9vZ2xlLWZhY2V0LXZpc2liaWxpdHknOiAndG9vZ2xlRmFjZXRWaXNpYmlsaXR5Jw0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgdG9vZ2xlRmFjZXRWaXNpYmlsaXR5OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHNob3dGYWNldHMgPSB0aGlzLm1vZGVsLmdldCgnc2hvd0FsbEZhY2V0cycpOw0KICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCdzaG93QWxsRmFjZXRzJywgIXNob3dGYWNldHMpOw0KDQoNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICogVXBkYXRlcyBtb2RlbCAnZmFjZXRBcnJheScgYmFzZWQgb24gcGFyYW1zDQogICAgICAgICAgICAqIEBwYXJhbSB7RXZlbnR9ICBwYXJhbSBFdmVudCBvYmplY3Qgd2l0aCBjdXJyZW50IHRhcmdldA0KICAgICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3DQogICAgICAgICAgICAqIEBhbGlhcyBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlclZpZXcjdXBkYXRlRmFjZXQNCiAgICAgICAgICAgICovDQogICAgICAgICAgICB1cGRhdGVGYWNldDogZnVuY3Rpb24gKHBhcmFtKSB7DQogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGYWNldCA9ICQocGFyYW0uY3VycmVudFRhcmdldCksDQogICAgICAgICAgICAgICAgICAgIGZhY2V0QXJyYXkgPSB0aGlzLm1vZGVsLmdldCgnZmFjZXRBcnJheScpLA0KICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gdGhpcy5tb2RlbC5nZXQoJ2RhdGFQcm9wZXJ0aWVzJyksDQogICAgICAgICAgICAgICAgICAgIGZhY2V0Q2xvc2UgPSB0aGlzLiRlbC5maW5kKCcuZmFjZXQtaGVhZGluZyA+IHNwYW4nKSwNCiAgICAgICAgICAgICAgICAgICAgZmFjZXRHcm91cCA9IGN1cnJlbnRGYWNldC5wYXJlbnRzKCcuY29tcG9uZW50LWNvbnRlbnQnKS5maW5kKCcuZmFjZXQtc2VhcmNoLWZpbHRlcicpLA0KICAgICAgICAgICAgICAgICAgICBmYWNldE5hbWUgPSBwcm9wZXJ0aWVzLmYudG9Mb3dlckNhc2UoKSwNCiAgICAgICAgICAgICAgICAgICAgZmFjZXREYXRhVmFsdWUgPSBjdXJyZW50RmFjZXQuZGF0YSgnZmFjZXR2YWx1ZScpLA0KICAgICAgICAgICAgICAgICAgICBmYWNldFZhbHVlID0gdHlwZW9mIGZhY2V0RGF0YVZhbHVlICE9PSAidW5kZWZpbmVkIiA/IGRlY29kZVVSSUNvbXBvbmVudChmYWNldERhdGFWYWx1ZSkgOiBmYWNldERhdGFWYWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgc2lnID0gdGhpcy5tb2RlbC5nZXQoJ3NpZycpLA0KICAgICAgICAgICAgICAgICAgICBpbmRleCwNCiAgICAgICAgICAgICAgICAgICAgaGFzaCA9IHt9LA0KICAgICAgICAgICAgICAgICAgICBpOw0KDQogICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMubXVsdGkpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZhY2V0VmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmFjZXQuaXMoJzpub3QoLmFjdGl2ZS1mYWNldCknKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlRmFjZXQoZmFjZXROYW1lLCBmYWNldFZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldEFycmF5LnB1c2goZmFjZXRWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGYWNldC5yZW1vdmVDbGFzcygnYWN0aXZlLWZhY2V0Jyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmFjZXQuZmluZCgnW3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmFjZXQuZmluZCgnW3R5cGU9Y2hlY2tib3hdICsgbGFiZWw6YWZ0ZXInKS5jc3MoeyAnYmFja2dyb3VuZCc6ICcjZmZmJyB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZmFjZXRBcnJheS5pbmRleE9mKGZhY2V0VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0QXJyYXkuc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFjZXRBcnJheS5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWNldENsb3NlLnJlbW92ZUNsYXNzKCdoYXMtYWN0aXZlLWZhY2V0Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoeyBmYWNldEFycmF5OiBmYWNldEFycmF5IH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhbnkgYmV0dGVyIHdheSB0byBjaGVjayB3aGF0IGFjdGlvbiBzdGFydCBtZXRob2Q/DQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RmFjZXRbMF0udHlwZSA9PSAiYnV0dG9uIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hbc2lnW2ldXSA9IF8udW5pcShmYWNldEFycmF5LCBmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaXRlbSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbigifHwiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5TW9kZWwudXBkYXRlSGFzaChoYXNoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmYWNldFZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2lnLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaFtzaWdbaV1dID0gZmFjZXRWYWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0R3JvdXAuZGF0YSgnYWN0aXZlLWZhY2V0JywgaGFzaCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZUZhY2V0KGZhY2V0TmFtZSwgZmFjZXRWYWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBxdWVyeU1vZGVsLnVwZGF0ZUhhc2goaGFzaCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICogU2V0cyBkZWZhdWx0IHZhbHVlcyBmb3IgU2VhcmNoIFJlc3VsdCBGaWx0ZXIgYW5kIHVwZGF0ZXMgaGFzaCBhY2NvcmRpbmdseQ0KICAgICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0DQogICAgICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlclZpZXcNCiAgICAgICAgICAgICogQGFsaWFzIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldyNyZW1vdmVGYWNldA0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIHJlbW92ZUZhY2V0OiBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7DQoNCiAgICAgICAgICAgICAgICB2YXIgZmFjZXRzID0gdGhpcy4kZWwsDQogICAgICAgICAgICAgICAgICAgIGZhY2V0Q2xvc2UgPSBmYWNldHMuZmluZCgnLmZhY2V0LWhlYWRpbmcgPiBzcGFuJyksDQogICAgICAgICAgICAgICAgICAgIGZhY2V0VmFsdWVzID0gZmFjZXRzLmZpbmQoJy5mYWNldC12YWx1ZScpLA0KICAgICAgICAgICAgICAgICAgICBzaWcgPSB0aGlzLm1vZGVsLmdldCgnc2lnJyk7DQoNCiAgICAgICAgICAgICAgICBxdWVyeU1vZGVsLnVwZGF0ZUhhc2godGhpcy51cGRhdGVTaWduYXR1cmVzSGFzaChzaWcsICIiLCB7fSkpOw0KDQogICAgICAgICAgICAgICAgZmFjZXRDbG9zZS5yZW1vdmVDbGFzcygnaGFzLWFjdGl2ZS1mYWNldCcpOw0KDQogICAgICAgICAgICAgICAgXy5lYWNoKGZhY2V0VmFsdWVzLCBmdW5jdGlvbiAoc2luZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciAkc2luZ2xlID0gJChzaW5nbGUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoJHNpbmdsZS5oYXNDbGFzcygnYWN0aXZlLWZhY2V0JykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRzaW5nbGUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZS1mYWNldCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHNpbmdsZS5maW5kKCdbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgJHNpbmdsZS5maW5kKCdbdHlwZT1jaGVja2JveF0gKyBsYWJlbDphZnRlcicpLmNzcyh7ICdiYWNrZ3JvdW5kJzogJyNmZmYnIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IGZhY2V0QXJyYXk6IFtdIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgKiBSZW5kZXJzIHZpZXcNCiAgICAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldw0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3I3JlbmRlcg0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhciBpbnN0ID0gdGhpcywNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0RGF0YSA9IHRoaXMubW9kZWwuZ2V0KCJyZXN1bHREYXRhIiksDQogICAgICAgICAgICAgICAgICAgIGZhY2V0Q2xvc2UgPSB0aGlzLiRlbC5maW5kKCcuZmFjZXQtaGVhZGluZyA+IHNwYW4nKSwNCiAgICAgICAgICAgICAgICAgICAgZmFjZXROYW1lcyA9IHRoaXMubW9kZWwuZ2V0KCdkYXRhUHJvcGVydGllcycpLmYuc3BsaXQoJ3wnKSwNCiAgICAgICAgICAgICAgICAgICAgZW1wdHlWYWx1ZVRleHQgPSB0aGlzLm1vZGVsLmdldCgnZGF0YVByb3BlcnRpZXMnKS5lbXB0eVZhbHVlVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0VGhyZXNob2xkID0gdGhpcy5tb2RlbC5nZXQoJ2RhdGFQcm9wZXJ0aWVzJykuaGlnaGxpZ2h0VGhyZXNob2xkLA0KICAgICAgICAgICAgICAgICAgICBzaG93TGVzc1RleHQgPSB0aGlzLm1vZGVsLmdldCgnZGF0YVByb3BlcnRpZXMnKS5zaG93TGVzc1RleHQsDQogICAgICAgICAgICAgICAgICAgIHNob3dNb3JlVGV4dCA9IHRoaXMubW9kZWwuZ2V0KCdkYXRhUHJvcGVydGllcycpLnNob3dNb3JlVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0QmVoYXZpb3VyID0gcGFyc2VJbnQodGhpcy5tb2RlbC5nZXQoJ2RhdGFQcm9wZXJ0aWVzJykuaGlnaGxpZ2h0QmVoYXZpb3VyKSwNCiAgICAgICAgICAgICAgICAgICAgc2hvd0FsbEZhY2V0cyA9IHRoaXMubW9kZWwuZ2V0KCdzaG93QWxsRmFjZXRzJyksDQogICAgICAgICAgICAgICAgICAgIGhhc2ggPSBxdWVyeU1vZGVsLnBhcnNlSGFzaFBhcmFtZXRlcnMod2luZG93LmxvY2F0aW9uLmhhc2gpLA0KICAgICAgICAgICAgICAgICAgICBzaWcgPSB0aGlzLm1vZGVsLmdldCgnc2lnJyksDQogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLCBmYWNldE5hbWUsIHRlbXBsYXRlUmVzdWx0Ow0KDQogICAgICAgICAgICAgICAgLy9jaGVja3MgaWYgcGFnZSBpcyBvcGVuZWQgZnJvbSBkaXNjIC0gaWYgeWVzIHRoZW4gd2UgYXJlIGluIENyZWF0aXZlIEV4Y2hhbmdlIG1vZGUNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuc3RhcnRzV2l0aCgiZmlsZTovLyIpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VWaXNpYmlsaXR5QnlEYXRhKHRoaXMuJGVsLCByZXN1bHREYXRhKQ0KICAgICAgICAgICAgICAgIGlmIChyZXN1bHREYXRhICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3QubW9kZWwuZ2V0KCdkYXRhUHJvcGVydGllcycpLm11bHRpID09PSB0cnVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUoaW5zdC5tb2RlbC5nZXQoInRlbXBsYXRlTXVsdGkiKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUoaW5zdC5tb2RlbC5nZXQoInRlbXBsYXRlIikpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlUmVzdWx0ID0gdGVtcGxhdGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXQ6IHJlc3VsdERhdGEsIGVtcHR5VGV4dDogZW1wdHlWYWx1ZVRleHQsIHNob3dMZXNzVGV4dDogc2hvd0xlc3NUZXh0LA0KICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vcmVUZXh0OiBzaG93TW9yZVRleHQsIGhpZ2hsaWdodEJlaGF2aW91cjogaGlnaGxpZ2h0QmVoYXZpb3VyLCBzaG93QWxsRmFjZXRzOiBzaG93QWxsRmFjZXRzLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0NvdW50OiByZXN1bHREYXRhLlZhbHVlcyA/IHJlc3VsdERhdGEuVmFsdWVzLmxlbmd0aCA6IC0xDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGluc3QuJGVsLmZpbmQoIi5jb250ZW50Q29udGFpbmVyIikuaHRtbCh0ZW1wbGF0ZVJlc3VsdCk7DQoNCiAgICAgICAgICAgICAgICAvL2NoZWNrcyB1cmwgaGFzaCBmb3IgZmFjZXRzIGFuZCBydW5zIHNldEFjdGl2ZUZhY2V0IG1ldGhvZCBmb3IgZWFjaCBmYWNldCBmaWx0ZXINCiAgICAgICAgICAgICAgICBfLmVhY2goZmFjZXROYW1lcywgZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgICAgICAgICBmYWNldE5hbWUgPSB2YWwudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghalF1ZXJ5LmlzRW1wdHlPYmplY3QoXy5waWNrKGhhc2gsIHNpZykpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF8udmFsdWVzKF8ucGljayhoYXNoLCBzaWcpKVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3Quc2V0QWN0aXZlRmFjZXQoZmFjZXROYW1lLCB2YWx1ZXMpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgdGhpcyByZW5kZXJpbmcgaXMgc3VwcG9ydGluZyBtdWx0aXBsZSBzaWduYXR1cmVzLCB3ZSB3aWxsIG1hcmsgYWN0aXZlIGZhY2V0IG9uY2UuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0cyBmYWNldHMgY291bnQgZ3JlYXRlciB0aGFuIGNob3NlbiB0aHJlc2hvbGQNCiAgICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0VGhyZXNob2xkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVGhyZXNob2xkKGhpZ2hsaWdodFRocmVzaG9sZCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy9pZiBubyBmYWNldCBpcyBzZWxlY3RlZCwgcmVtb3ZlIHByZXZpb3VzbHkgaGlnaGxpZ2h0ZWQgY3Jvc3MgaWNvbiAod2hpbGUgYmFjayBidXR0b24pDQogICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZWwuZ2V0KCJmYWNldEFycmF5IikubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGZhY2V0Q2xvc2UucmVtb3ZlQ2xhc3MoJ2hhcy1hY3RpdmUtZmFjZXQnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBmYWNldENsb3NlLmFkZENsYXNzKCdoYXMtYWN0aXZlLWZhY2V0Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgKiBNYW5hZ2VzIHNlYXJjaCByZXN1bHQgZmlsdGVyIGFjdGl2ZSBzdGF0ZQ0KICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmFjZXRHcm91cE5hbWUgZmFjZXQgbmFtZQ0KICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZmFjZXRWYWx1ZU5hbWUgZmFjZXQgdmFsdWUNCiAgICAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldw0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3I3NldEFjdGl2ZUZhY2V0DQogICAgICAgICAgICAqLw0KICAgICAgICAgICAgc2V0QWN0aXZlRmFjZXQ6IGZ1bmN0aW9uIChmYWNldEdyb3VwTmFtZSwgZmFjZXRWYWx1ZU5hbWUpIHsNCiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9IHRoaXMubW9kZWwuZ2V0KCdkYXRhUHJvcGVydGllcycpLA0KICAgICAgICAgICAgICAgICAgICBmYWNldENoaWxkcmVuID0gdGhpcy4kZWwuZmluZCgncFtkYXRhLWZhY2V0dmFsdWVdJyksDQogICAgICAgICAgICAgICAgICAgIGZhY2V0Q2xvc2UgPSB0aGlzLiRlbC5maW5kKCcuZmFjZXQtaGVhZGluZyA+IHNwYW4nKSwNCiAgICAgICAgICAgICAgICAgICAgaW5zdCA9IHRoaXMsDQogICAgICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlczsNCg0KICAgICAgICAgICAgICAgIGZhY2V0VmFsdWVOYW1lID0gZmFjZXRWYWx1ZU5hbWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgIGZhY2V0VmFsdWUgPSB0aGlzLiRlbC5maW5kKCJbZGF0YS1mYWNldHZhbHVlXSIpLmZpbHRlcihmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJCh0aGlzKS5hdHRyKCJkYXRhLWZhY2V0dmFsdWUiKS50b0xvd2VyQ2FzZSgpKSA9PT0gZmFjZXRWYWx1ZU5hbWU7DQogICAgICAgICAgICAgICAgfSk7DQoNCg0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGZhY2V0VmFsdWVOYW1lKSAhPT0gInVuZGVmaW5lZCIgJiYgZmFjZXRWYWx1ZU5hbWUgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWVzID0gZmFjZXRWYWx1ZU5hbWUuc3BsaXQoInx8Iik7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkgew0KICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm11bHRpID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5tdWx0aSkgew0KICAgICAgICAgICAgICAgICAgICAvL211bHRpIHNlbGVjdGlvbiBmYWNldCBzZWFyY2ggcmVzdWx0cw0KICAgICAgICAgICAgICAgICAgICBfLmVhY2goZmFjZXRDaGlsZHJlbiwgZnVuY3Rpb24gKHZhbCkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXRWYWx1ZSA9IGluc3QuJGVsLmZpbmQoIltkYXRhLWZhY2V0dmFsdWVdIikuZmlsdGVyKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJCh0aGlzKS5hdHRyKCdkYXRhLWZhY2V0dmFsdWUnKS50b0xvd2VyQ2FzZSgpKSA9PT0gdmFsdWVzW2ldOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9PT0gZmFjZXRWYWx1ZVswXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUtZmFjZXQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodmFsKS5maW5kKCdbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IGZhY2V0VmFsdWVbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHZhbCkuYWRkQ2xhc3MoJ2FjdGl2ZS1mYWNldCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodmFsKS5maW5kKCdbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvL3NpbmdsZSBzZWxlY3Rpb24gZmFjZXQgc2VhcmNoIHJlc3VsdHMgZmlsdGVyIGFsbG93cyBvbmx5IG9uZSBmYWNldCB0eXBlIHRvIGJlIHNlbGVjdGVkDQogICAgICAgICAgICAgICAgICAgIF8uZWFjaChmYWNldENoaWxkcmVuLCBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsICE9PSBmYWNldFZhbHVlWzBdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLnJlbW92ZUNsYXNzKCdhY3RpdmUtZmFjZXQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHZhbCkuZmluZCgnW3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHZhbCkuZmluZCgnW3R5cGU9Y2hlY2tib3hdICsgbGFiZWw6YWZ0ZXInKS5jc3MoeyAnYmFja2dyb3VuZCc6ICcjZmZmJyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh2YWwpLmFkZENsYXNzKCdhY3RpdmUtZmFjZXQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy9hZGRzIGFjdGl2ZSBjbGFzcyB0byBncm91cCBjbG9zZSBidXR0b24NCiAgICAgICAgICAgICAgICBmYWNldENsb3NlLmFkZENsYXNzKCdoYXMtYWN0aXZlLWZhY2V0Jyk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAqIE1hbmFnZXMgc2VhcmNoIHJlc3VsdCBmaWx0ZXIgaGlnaGxpZ2h0IG9mIHRocmVzaG9sZA0KICAgICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gaGlnaGxpZ2h0VGhyZXNob2xkIHZhbHVlIG9mIHRocmVzaG9sZCBoaWdobGlnaHQNCiAgICAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlldw0KICAgICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5GYWNldFJlc3VsdHNGaWx0ZXJWaWV3I2hhbmRsZVRocmVzaG9sZA0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGhhbmRsZVRocmVzaG9sZDogZnVuY3Rpb24gKGhpZ2hsaWdodFRocmVzaG9sZCkgew0KICAgICAgICAgICAgICAgIHZhciBmYWNldHMgPSB0aGlzLiRlbC5maW5kKCcuZmFjZXQtc2VhcmNoLWZpbHRlcicpLmNoaWxkcmVuKCdwJyk7DQoNCiAgICAgICAgICAgICAgICBfLmVhY2goZmFjZXRzLCBmdW5jdGlvbiAoc2luZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciAkZmFjZXQgPSAkKHNpbmdsZSksDQogICAgICAgICAgICAgICAgICAgICAgICAkZmFjZXRDb3VudCA9ICRmYWNldC5maW5kKCcuZmFjZXQtY291bnQnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGZhY2V0Q291bnQgPSAkZmFjZXRDb3VudC5kYXRhKCdmYWNldGNvdW50Jyk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZhY2V0Q291bnQgPiBoaWdobGlnaHRUaHJlc2hvbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRmYWNldENvdW50LmFkZENsYXNzKCdoaWdobGlnaHRlZCcpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIC8qKg0KICAgICogRm9yIGVhY2ggc2VhcmNoIHJlc3VsdCBjb21wb25lbnQgb24gYSBwYWdlIGNyZWF0ZXMgaW5zdGFuY2Ugb2YNCiAgICAqIFsiRmFjZXRSZXN1bHRzRmlsdGVyTW9kZWwiXXtAbGluayBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyLkZhY2V0UmVzdWx0c0ZpbHRlck1vZGVsfSBhbmQNCiAgICAqIFsiRmFjZXRSZXN1bHRzRmlsdGVyVmlldyJde0BsaW5rIG1vZHVsZTpmYWNldFJlc3VsdHNGaWx0ZXIuRmFjZXRSZXN1bHRzRmlsdGVyVmlld30NCiAgICAqIEBtZW1iZXJPZiBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyDQogICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5pbml0DQogICAgKi8NCiAgICBhcGkuaW5pdCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKCQoImJvZHkiKS5oYXNDbGFzcygib24tcGFnZS1lZGl0b3IiKSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgcXVlcnlNb2RlbCA9IFhBLmNvbXBvbmVudC5zZWFyY2gucXVlcnk7DQogICAgICAgIGFwaU1vZGVsID0gWEEuY29tcG9uZW50LnNlYXJjaC5hamF4Ow0KICAgICAgICB1cmxIZWxwZXJNb2RlbCA9IFhBLmNvbXBvbmVudC5zZWFyY2gudXJsOw0KDQogICAgICAgIHZhciBmYWNldFJlc3VsdHNGaWx0ZXJMaXN0ID0gJCgiLmZhY2V0LXNpbmdsZS1zZWxlY3Rpb24tbGlzdDpub3QoLmluaXRpYWxpemVkKSIpOw0KDQogICAgICAgIF8uZWFjaChmYWNldFJlc3VsdHNGaWx0ZXJMaXN0LCBmdW5jdGlvbiAoZWxlbSkgew0KICAgICAgICAgICAgdmFyICRlbCA9ICQoZWxlbSksDQogICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgRmFjZXRSZXN1bHRzRmlsdGVyTW9kZWwoKSwNCiAgICAgICAgICAgICAgICB2aWV3ID0gbmV3IEZhY2V0UmVzdWx0c0ZpbHRlclZpZXcoeyBlbDogJGVsLCBtb2RlbDogbW9kZWwgfSk7DQogICAgICAgIA0KICAgICAgICAgICAgJGVsLmFkZENsYXNzKCJpbml0aWFsaXplZCIpOw0KICAgICAgICB9KTsNCiAgICB9Ow0KICAgIC8qKg0KICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBmYWNldCBjb21wb25lbnQNCiAgICAqIEBtZW1iZXJPZiBtb2R1bGU6ZmFjZXRSZXN1bHRzRmlsdGVyDQogICAgKiBAYWxpYXMgbW9kdWxlOmZhY2V0UmVzdWx0c0ZpbHRlci5nZXRGYWNldERhdGFSZXF1ZXN0SW5mbw0KICAgICogQHJldHVybnMge0FycmF5PEZhY2V0RGF0YVJlcXVlc3RJbmZvPn0gZmFjZXQgZGF0YSBuZWVkZWQgZm9yIHJlcXVlc3QNCiAgICAqLw0KICAgIGFwaS5nZXRGYWNldERhdGFSZXF1ZXN0SW5mbyA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGZhY2V0TGlzdCA9ICQoIi5mYWNldC1zaW5nbGUtc2VsZWN0aW9uLWxpc3QiKSwNCiAgICAgICAgICAgIHJlc3VsdCA9IFtdOw0KDQogICAgICAgIF8uZWFjaChmYWNldExpc3QsIGZ1bmN0aW9uIChlbGVtKSB7DQogICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9ICQoZWxlbSkuZGF0YSgpLnByb3BlcnRpZXMsDQogICAgICAgICAgICAgICAgc2lnbmF0dXJlcyA9IHByb3BlcnRpZXMuc2VhcmNoUmVzdWx0c1NpZ25hdHVyZS5zcGxpdCgnLCcpLA0KICAgICAgICAgICAgICAgIGk7DQoNCiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWduYXR1cmVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goew0KICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZXNbaV0gPT09IG51bGwgPyAiIiA6IHNpZ25hdHVyZXNbaV0sDQogICAgICAgICAgICAgICAgICAgIGZhY2V0TmFtZTogcHJvcGVydGllcy5mLA0KICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogcHJvcGVydGllcy5lbmRwb2ludCwNCiAgICAgICAgICAgICAgICAgICAgc2hvd01vcmVUZXh0OiBwcm9wZXJ0aWVzLnNob3dNb3JlVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgc2hvd0xlc3NUZXh0OiBwcm9wZXJ0aWVzLnNob3dMZXNzVGV4dCwNCiAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0QmVoYXZpb3VyOiBwcm9wZXJ0aWVzLmhpZ2hsaWdodEJlaGF2aW91ciwNCiAgICAgICAgICAgICAgICAgICAgczogcHJvcGVydGllcy5zLA0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXJXaXRob3V0TWU6ICFwcm9wZXJ0aWVzLmNvbGxhcHNlT25TZWxlY3Rpb24NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICB9Ow0KDQogICAgcmV0dXJuIGFwaTsNCg0KfShqUXVlcnksIGRvY3VtZW50KSk7DQoNClhBLnJlZ2lzdGVyKCdmYWNldFJlc3VsdHNGaWx0ZXInLCBYQS5jb21wb25lbnQuc2VhcmNoLmZhY2V0LnJlc3VsdHNmaWx0ZXIpOw==
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 25612
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 1750
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160728T134138Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        default\Anonymous
